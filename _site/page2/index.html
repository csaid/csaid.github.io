<!DOCTYPE html>
<html lang="en-us">

<!--
It's bad to import d3 in every post separatly (https://groups.google.com/forum/#!topic/d3-js/bwdNirt2uEU).
Importing it globally here.
Putting this up at the top, according to this controversial stack overflow answer
http://stackoverflow.com/questions/7169370/d3-js-and-document-onready
 -->
<script src="http://d3js.org/d3.v3.min.js"></script>

<link rel="stylesheet" href="/public/font-awesome-4.4.0/css/font-awesome.min.css">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  
    <meta name="description" content="My name is Chris Said and I am a data scientist at Opendoor. This blog is mostly about tech, stats, and science.">
  

  <!-- To get a link preview image, just set the image attribute in your _post -->
  
  
  <title>
    
      The File Drawer &middot; A blog by Chris Said
    
  </title>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-67746868-1', 'auto');
    ga('send', 'pageview');
  </script>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

<!--   <body class="theme-base-cps">
 -->
  <body>

    <div class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          The File Drawer
        </a>
      </h1>
      <p class="lead">My name is Chris Said and I am a data scientist at Opendoor. This blog is mostly about tech, stats, and science.</p>

    </div>

    <nav class="sidebar-nav">

      
        <a class="sidebar-nav-item" href="/">Home</a>
      
        <a class="sidebar-nav-item" href="/archive">Archive</a>
      
        <a class="sidebar-nav-item" href="/atom.xml">Feed</a>
      

    </nav>

    <div class="wrapper">
      <div class="inner">
        <a href = "http://www.twitter.com/Chris_Said" class="contact-button"><i class="fa fa-twitter fa-2x"></i></a>
        <a href = "https://www.linkedin.com/pub/chris-said/6b/86b/979" class="contact-button"><i class="fa fa-linkedin-square fa-2x"></i></a>
        <a href = "mailto:chris.said@gmail.com" class="contact-button"><i class="fa fa-envelope fa-2x"></i></a>
      </div>
    </div>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/04/10/comparing-the-opinions-of-economic-experts/">
        Comparing the opinions of economic experts and the general public
      </a>
    </h1>

    <span class="post-date">10 Apr 2016</span>

    <meta charset="utf-8" />

<style>

.axis path,
.axis line {
  fill: none; /* chance go none */
  stroke: #000;
  shape-rendering: crispEdges;
}

.axis text {
  font: 12px sans-serif;
}

.survey_dot {
  stroke: #fff;
  fill: #f58032;
}

.tooltip {
  position: absolute;
  text-align: left;
  width: 150px;
  padding: 8px;
  margin-top: -20px;
  font: 10px sans-serif;
  background: rgba(200, 200, 200, 0.9);
  pointer-events: none;
}

</style>

<p>Last week on Marginal Revolution, there was a link to a wonderful paper comparing the policy opinions of economic experts to those of the general public. The <a href="http://faculty.chicagobooth.edu/luigi.zingales/papers/research/economic-experts-vs-average-americans.pdf">paper</a>, by <a href="http://www.kellogg.northwestern.edu/faculty/directory/sapienza_paola.aspx">Paola Sapienza</a> and <a href="http://www.chicagobooth.edu/faculty/directory/z/luigi-zingales">Luigi Zingales</a>, found some pretty significant discrepancies between the two groups. The authors attributed this difference to the degree of trust each group put in the implicit assumptions embedded into the economists’ answers. It’s an excellent and fascinating read. However, like pretty much all academic economics papers, it displays its data in cumbersome text tables rather than figures. In this blog post, I’ve created some figures from the data that I think are easier to read than tables.</p>

<p>For each policy question, the paper provides two numbers. One is the percentage of economic experts who agree with the policy position. The second is the percentage of general public respondents who agree with the policy position. This sounds like a good opportunity for a scatter plot:</p>

<!-- The tooltip has absolute positioning, which means it is positioned
"relative" to any parent it has who has either absolute or relative positioning.
The #econ_scatter parent would by default be static, so I have to change it to
relative -->
<div class="wrapper">
  <div id="econ_scatter" class="inner" style="position:relative"></div>
</div>

<p>There’s a light negative correlation (<em>r</em> = -0.47) between how much economic experts and the general public agree with these positions. As shown in the bottom right, the vast majority of economists prefer a carbon tax to car emissions standards, whereas the vast majority of the general public prefers the reverse. As shown in the top left, the vast majority of the general public believes that requiring the government to “Buy American” is an effective way to improve manufacturing employment, whereas the majority of economists do not. For the exact wording of the questions, see the <a href="http://docplayer.net/9302120-Economic-experts-vs-average-americans-online-appendix.html">Appendix</a> to the original paper.</p>

<p>Another way to visualize the same data is with a <a href="http://charliepark.org/slopegraphs/">slopegraph</a>. Below, the left column shows all the policy positions ranked by agreement from economic experts. The right column shows the same policy positions ranked by agreement from the general public. This type of plot vividly shows how unanimous the experts are on a few beliefs: It’s very hard to predict the stock market, we’re on the left side of the Laffer Curve, and the US economy is fiscally unsustainable without healthcare cuts or taxes hikes.</p>

<p><a href="http://chris-said.io/assets/fig_econ_poll.png"><figure class="image"><img src="/assets/fig_econ_poll.png" alt="" /></figure>
</a></p>

<p>Slopegraphs are useful in this context because they create less text overlap than scatter plots. With the scatter plot above, I had to use interactive mouseover events to selectively show the text for individual data points. This wouldn’t be possible in a publication, since most economics journals still require static PDFs.</p>

<p>Even with a slopegraph, there is still some risk of overlapping text. To keep this from happening, I added some light repulsion to the data points.</p>

<p>For those interested, the experts in this dataset come from the <a href="http://www.igmchicago.org/igm-economic-experts-panel">Economic Expert Panel</a>, a diverse set of economists comprising Democrats, Republicans, and Independents. This panel is the same panel that generates the data used in my <a href="http://whichfamouseconomistareyoumostsimilarto.com/">Which Famous Economist</a> website.</p>

<p>[Python <a href="https://gist.github.com/csaid/21677bb64c1579f9e9d4852529331ac2">code</a> for the slope graph. Scatter plot is in page source.]</p>

<script>
<!-- Example based on http://bl.ocks.org/weiglemc/6185069 -->


var survey_results = [
  {
    "issue": "Moving education funding to school vouchers would benefit students",
    "public_agreement": 56.2,
    "expert_agreement": 51.4
  },
  {
    "issue": "Benefits of automakers bailouts will exceed their cost",
    "public_agreement": 51.9,
    "expert_agreement": 57.5
  },
  {
    "issue": "To reduce student loan risk, link college eligibility to performance",
    "public_agreement": 61.0,
    "expert_agreement": 69.7
  },
  {
    "issue": "2009 Stimulus: benefits will exceed its costs",
    "public_agreement": 43.4,
    "expert_agreement": 52.7
  },
  {
    "issue": "Large banks are big mostly for efficiency gains, not for political power",
    "public_agreement": 39.4,
    "expert_agreement": 17.9
  },
  {
    "issue": "CEOs are paid more than the value they add to firms",
    "public_agreement": 66.8,
    "expert_agreement": 39.3
  },
  {
    "issue": "2010 unemployment rate was lower thanks to automaker bailout",
    "public_agreement": 54.8,
    "expert_agreement": 84.8
  },
  {
    "issue": "2008 bank bailouts: benefits outweighed costs",
    "public_agreement": 38.7,
    "expert_agreement": 69.7
  },
  {
    "issue": "Raising taxes on the rich would increase tax revenue",
    "public_agreement": 66.3,
    "expert_agreement": 97.4
  },
  {
    "issue": "Large banks would be smaller without government support",
    "public_agreement": 65.2,
    "expert_agreement": 33.3
  },
  {
    "issue": "Fannie & Freddie do not rebate subsidies through lower interest rates",
    "public_agreement": 66.7,
    "expert_agreement": 31.4
  },
  {
    "issue": "Changes in US gasoline prices are mainly due to market factors",
    "public_agreement": 54.3,
    "expert_agreement": 92.3
  },
  {
    "issue": "It is hard to predict stock prices",
    "public_agreement": 55.2,
    "expert_agreement": 100.0
  },
  {
    "issue": "2009 ARRA lowered unemployment rate",
    "public_agreement": 45.6,
    "expert_agreement": 91.6
  },
  {
    "issue": "NAFTA increased welfare",
    "public_agreement": 46.1,
    "expert_agreement": 94.5
  },
  {
    "issue": "Eliminating mortgage deduction improves individual finance efficiency",
    "public_agreement": 35.6,
    "expert_agreement": 89.4
  },
  {
    "issue": "\"Buy American\" has significant impact on manufacturing employment",
    "public_agreement": 75.6,
    "expert_agreement": 11.4
  },
  {
    "issue": "US economy is sustainable w/o healthcare cuts or tax hikes",
    "public_agreement": 67.6,
    "expert_agreement": 0.00
  },
  {
    "issue": "A carbon tax is more efficient than car emission standards",
    "public_agreement": 22.5,
    "expert_agreement": 92.5
  }
  ]

if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
  var full_width = 400
  var full_height = 300;
  var r = 10
} else {
  var full_width = 550
  var full_height = 400;
  var r = 12
}

var margin = {top: 30, right: 20, bottom: 50, left: 50},
    width = full_width - margin.left - margin.right,
    econ_survey_height = full_height - margin.top - margin.bottom;

/*
 * value accessor - returns the value to encode for a given data object.
 * scale - maps value to a visual display encoding, such as a pixel position.
 * map function - maps from data value to display value
 * axis - sets up axis
 */

// setup x
var xValue = function(d) { return d.expert_agreement;}, // data -> value
    xScale = d3.scale.linear().range([0, width]), // value -> display
    xMap = function(d) { return xScale(xValue(d));}, // data -> display
    xAxisEconSurvey = d3.svg.axis().scale(xScale).orient("bottom");

// setup y
var yValue = function(d) { return d.public_agreement;}, // data -> value
    yScale = d3.scale.linear().range([econ_survey_height, 0]), // value -> display
    yMap = function(d) { return yScale(yValue(d));}, // data -> display
    yAxisEconSurvey = d3.svg.axis().scale(yScale).orient("left");


// add the graph canvas to the #econ_scatter of the webpage
var svg = d3.select("#econ_scatter").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", econ_survey_height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

// add the tooltip area to the webpage
var tooltip = d3.select("#econ_scatter").append("div")
    .attr("class", "tooltip")
    .style("display", "none")
    // .style("opacity", 0);


  // don't want dots overlapping axis, so add in buffer to data domain
  xScale.domain([-5, 105]);
  yScale.domain([15, 85]);

  // x-axis
  svg.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + econ_survey_height + ")")
      .call(xAxisEconSurvey);

  // y-axis
  svg.append("g")
      .attr("class", "y axis")
      .call(yAxisEconSurvey);

  // x-label
  svg.append("text")
      .attr("x", width/2)
      .attr("y", econ_survey_height + 40)
      .style("text-anchor", "middle")
      .style("font-size", "14px")
      .text("Expert Agreement (%)");

  // y-label
  svg.append("text")
      .attr("transform", "rotate(-90)")
      .attr("x", -econ_survey_height/2)
      .attr("y", -45)
      .attr("dy", ".71em")
      .style("text-anchor", "middle")
      .style("font-size", "14px")
      .text("Public Agreement (%)");

  // draw dots
  svg.selectAll(".survey_dot")
      .data(survey_results)
    .enter().append("circle")
      .attr("class", "survey_dot")
      .attr("r", r)
      .attr("cx", xMap)
      .attr("cy", yMap)
      .on("mouseover", mouseover)
      .on("mousemove", mousemove)
      .on("mouseout", mouseout);


  function mouseover(d) {
    tooltip.style("display", "inline")
      .style("position", "absolute");
  }

  function mousemove(d) {
    tooltip
        .text(d.issue)
        .style("position", "absolute")
        .style("left", (xMap(d)) + "px")
        .style("top", (yMap(d)) + "px");
  }

  function mouseout(d) {
    tooltip.style("display", "none")
    .style("position", "absolute");
  }

</script>



    <div>
        <i class="fa fa-comment"></i> <a href="http://localhost:4000/2016/04/10/comparing-the-opinions-of-economic-experts/#disqus_thread" data-disqus-identifier="http://localhost:4000/2016/04/10/comparing-the-opinions-of-economic-experts/"></a>
        <span>&nbsp; &nbsp;</span>
        <span>
            <a class="twitter-share-button"
              href="https://twitter.com/share"
              data-url="http://localhost:4000/2016/04/10/comparing-the-opinions-of-economic-experts/"
              data-via="Chris_Said"
              data-count="none"
              data-text="Comparing the opinions of economic experts and the general public">
            Tweet
            </a>
        </span>

    </div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/02/28/four-pitfalls-of-hill-climbing/">
        Four pitfalls of hill climbing
      </a>
    </h1>

    <span class="post-date">28 Feb 2016</span>

    <meta charset="utf-8" />

<p>One of the great developments in product design has been the adoption of A/B testing. Instead of just guessing what is best for your customers, you can offer a product variant to a subset of customers and measure how well it works. While undeniably useful, A/B testing is sometimes said to encourage too much “hill climbing”, an incremental and short-sighted style of product development that emphasizes easy and immediate wins.</p>

<p>Discussion around hill climbing can sometimes get a bit vague, so I thought I would make some animations that describe four distinct pitfalls that can emerge from an overreliance on hill climbing.</p>

<h4 id="1-local-maxima">1. Local maxima</h4>

<p>If you climb hills incrementally, you may end up in a local maximum and miss out on an opportunity to land on a global maximum with much bigger reward. Concerns about local maxima are often wrapped up in critiques of <em>incrementalism</em>.</p>

<div class="wrapper">
  <div class="inner" id="plot1"></div>
</div>

<p>Local maxima and global maxima can be illustrated with hill diagrams like the one above. The horizontal axis represents product space collapsed into a single dimension. In reality, of course, there are many dimensions that a product could explore.</p>

<h4 id="2-emergent-maxima">2. Emergent maxima</h4>

<p>If you run short A/B tests, or A/B tests that do not fully capture network effects, you might not realize that a change that initially seems bad may be good in the long run. This idea, which is distinct from concerns about incrementalism, can be described with a dynamic reward function animation. As before, the horizontal axis is product space. Each video frame represents a time step, and the vertical axis represents immediate, measurable reward.</p>

<div class="wrapper">
  <div class="inner" id="plot2"></div>
</div>

<p>When a product changes, the intial effect is negative. But eventually, customers begin to enjoy the new version, as shown by changes in the reward function. By waiting at a position that initially seemed negative, you are able to discover an emergent mountain, and receive greater reward than you would have from short-term optimization.</p>

<h4 id="3-novelty-effects">3. Novelty effects</h4>

<p>Short-term optimization can be bad, not only because it prevents discovery of emergent mountains, but also because some hills can be transient. One way a hill can disappear is through <em>novelty effects</em>, where a shiny new feature can be engaging to customers in the short term, but uninteresting or even negative in the long term.</p>

<div class="wrapper">
  <div class="inner" id="plot3"></div>
</div>

<h4 id="4-loss-of-differentiation">4. Loss of differentiation</h4>

<p>Another way a hill can disappear is through loss of differentiation from more dominant competitors. Your product may occupy a market niche. If you try to copy your competitor, you may initially see some benefits. But at some point, your customers may leave because not much separates you from your more dominant competitor. Differentiation matters in some dimensions more than others.</p>

<div class="wrapper">
  <span id="plot4"></span>
  <span id="plot5"></span>
</div>

<p>You can think of an industry as a dynamic ecosystem where each company has its own reward function. When one company moves, it changes its own reward function as well as the reward functions of other companies. If this sounds like biology, you’re not mistaken. The dynamics here are similar to evolutionary <a href="http://www.randalolson.com/2014/04/17/visualizing-evolution-in-action-dynamic-fitness-landscapes/">fitness landscapes</a>.</p>

<hr />

<p>While all of the criticisms of hill climbing have obvious validity, I think it is easy for people to overreact to them. Here are some caveats in defense of hill climbing:</p>

<ul>
  <li>The plots above probably exaggerate the magnitude and frequency with which reward functions change.</li>
  <li>There is huge uncertainty and disagreement about what future landscapes will look like. In most cases, it’s better to explore regions that increase (rather than decrease) reward, making sure to run long term experiments when needed.</li>
  <li>The space is high dimensional. Even if your product is at a local maximum in one dimension, there are many other dimensions to explore and measure.</li>
  <li>We may overestimate the causal relationship between bold product moves and company success. Investors often observe that companies who don’t make bold changes are doomed to fail. While I don’t doubt that there is some causation here, I think there is also some reverse causation. Bold changes require lots of resources. Maybe it’s mostly the success-bound companies who have enough resources to afford the bold changes.</li>
</ul>

<p>Special thanks to Marika Inhoff, <a href="https://twitter.com/johnvmcdonnell">John McDonnell</a> and <a href="https://twitter.com/alexrosner">Alex Rosner</a> for comments on a draft of this post.</p>
<style>

circle {
  stroke: #fff;
  stroke-width: 1.5px;
}

circle.you {
  fill: #ED2685;
}

circle.competitor {
  fill: #3AC3F2;
}

.background {
  fill: #e7e7e7;
}

.axis .tick:nth-child(2n) {
  stroke-opacity: 0.5;
}

.axis text {
  font: 12px sans-serif;
}

.line path {
  fill: none;
  stroke: #000;
  stroke-width: 2px;
  stroke-linecap: round;
  stroke-linejoin: round;
}

}

</style>

<!-- I think Markdown doesn't like two script tags in a row -->
<div></div>

<script>





function makeObjectiveGraph(id, get_dot_x, objective, title, is_dynamic, company) {

  // Dot radius
  var r = 11;

  var margin = {top: 20, right: 20, bottom: 20, left: 20},
      width = 270 - margin.left - margin.right,
      height = 270 - margin.top - margin.bottom;

  var tickFormat = d3.format(".1f");

  var y = d3.scale.linear()
      .domain([0, 1])
      .range([height, 0]);

  var yAxisPitfalls = d3.svg.axis()
      .scale(y)
      .orient("left")

  var x = d3.scale.linear()
      .domain([0, 1])
      .range([0, width]);

  var xAxisPitfalls = d3.svg.axis()
      .scale(x)
      .orient("bottom")

  var path = d3.svg.line();

  var svg = d3.select("#" + id).append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
    .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  svg.append("rect")
      .attr("class", "background")
      .attr("width", width)
      .attr("height", height);

  var line = svg.append("g")
      .attr("class", "line")
    .append("path");

  var dot = svg.append("circle")
      .attr("r", r-1)
      .attr("class", company);

  // For X- and Y- labels.
  if (company == "competitor"){
    var prefix = "Competitor ";
  } else {
    var prefix = "";
  }

  // Title
  svg.append("text")
      .attr("class", "x label")
      .attr("text-anchor", "middle")
      .attr("x", width/2)
      .attr("y", -8)
      .style("font-size", "14px")
      .style("font-weight", "bold")
      .text(title);

  // X-Label
  svg.append("text")
      .attr("class", "x label")
      .attr("text-anchor", "middle")
      .attr("x", width/2)
      .attr("y", height + 14)
      .style("font-size", "12px")
      .text(prefix + "Product Space");

  // Y-Label
  svg.append("text")
      .attr("class", "y label")
      .attr("text-anchor", "middle")
      .attr("x", -width/2)
      .attr("y", -14)
      .attr("dy", ".75em")
      .attr("transform", "rotate(-90)")
      .style("font-size", "12px")
      .text(prefix + "Reward");


  if (!is_dynamic){
    line.attr("d", path(d3.range(0, 1, .002).concat(1).map(function(xo) {
      return [x(xo), y(objective(xo))];
    })));
  }


  // Provide pixel coordinates of small segment of curve.
  // Returns pixel coordinates just above segment.
  function get_adjusted_dot_coords(start_x, start_y, end_x, end_y) {
    var center_x = (start_x + end_x) / 2;
    var center_y = (start_y + end_y) / 2;
    var rise = (end_y - start_y);
    var run = (end_x - start_x);
    var k = Math.sqrt(Math.pow(r, 2)/(Math.pow(run, 2) + Math.pow(rise, 2)));
    var dx = k * rise;
    var dy = k * run;

    return [center_x + dx, center_y - dy]

  };

  // Functions x and y return pixel units.
  // Var xo is in graph coordinates from 0 to 1.
  // Var t is from 0 to 1.
  d3.timer(function(elapsed) {
    var t = (elapsed % 3000) / 3000; // will range from 0 to 1.
    var dot_xo = get_dot_x(t) // make this a function

    if (is_dynamic) {

      dot_coords = get_adjusted_dot_coords(
                                           x(dot_xo-.001),
                                           y(objective(t, dot_xo-.001)),
                                           x(dot_xo+.001),
                                           y(objective(t, dot_xo+.001))
                                           );

      // dot_coords = [x(dot_xo), y(objective(t, dot_xo))]

      dot.attr("cx", dot_coords[0]).attr("cy", dot_coords[1]);

      // dot.attr("cx", x(t)).attr("cy", y(objective(t, t))-12); // The 12 is in pixel world. Subtracting because pixel 0 is at top.

      line.attr("d", path(d3.range(0, 1, .002).concat(1).map(function(xo) {
        return [x(xo), y(objective(t, xo))];
      })));
    } else {

      dot_coords = get_adjusted_dot_coords(x(dot_xo-.001), y(objective(dot_xo-.001)), x(dot_xo+.001), y(objective(dot_xo+.001)))
      dot.attr("cx", dot_coords[0]).attr("cy", dot_coords[1]);
    }


  });

  d3.select(self.frameElement).style("height", height + margin.top + margin.bottom + "px");
}

var left_pos  = 0.20;
var mid_pos   = 0.50;
var right_pos = 0.80;
var mu = 0.25


// Provides soft trajectory, given starting and stopping times and locations.
// Generally the first agrument will be time t, but using x
// internally here so I can think about the functions visually.
var soft_motion = function(x, start_x, start_y, end_x, end_y) {
  var period = 2 * (end_x - start_x);
  var scale = (end_y - start_y)/2;
  var intercept = start_y + scale;

  if (x < start_x) { return start_y } else
  if (x < end_x) { return -scale * Math.cos(2*Math.PI/period * (x-start_x)) + intercept} else
  return end_y
};

// The horizontal position of your dot
var get_dot_x = function(t) {
  return soft_motion(t, .2, .2, .8, .8)
};

var get_dot_x_local_max = function(t) {
  return soft_motion(t, .2, .35, .8, .2)
};

// The horizontal position of your competitor's dot
var get_competitor_dot_x = function(t) {
  return 0.8;
};

// Gaussian function. For dynamics, call repeatedly with different scale values.
function gauss(x, scale, mu, sig) {
  var coef = scale / (sig* Math.sqrt(2 * Math.PI));
  var numer = Math.pow((x-mu), 2)
  var denom = 2*Math.pow(sig, 2)
  return coef * Math.exp(-numer/denom);
};


var objective1 = function(x){
  var left_scale = 0.2;
  var right_scale = 0.3;
  var sd = 0.2
  return gauss(x, left_scale, left_pos, sd) + gauss(x, right_scale, right_pos, sd)
}

makeObjectiveGraph("plot1", get_dot_x_local_max, objective1, "", false, "you")


var objective2 = function(t, x){
  var left_scale  = soft_motion(t, 0.6, 0.2, 0.95, 0.10);
  var right_scale = soft_motion(t, 0.6, 0.0, 0.95, 0.3);
  var sd = 0.2

  return gauss(x, left_scale, left_pos, sd) + gauss(x, right_scale, right_pos, sd)
};

makeObjectiveGraph("plot2", get_dot_x, objective2, "", true, "you")


var objective3 = function(t, x){
  var left_scale  = soft_motion(t, 0.6, 0.15, 0.95, 0.15);
  var right_scale = soft_motion(t, 0.6, 0.30, 0.95, 0.15);

  return gauss(x, left_scale, left_pos, .25) + gauss(x, right_scale, right_pos, .3)
};

makeObjectiveGraph("plot3", get_dot_x, objective3, "", true, "you")

var objective4 = function(t, x){
  var left_scale  = soft_motion(t, 0.6, 0.15, 0.95, 0.15);
  var right_scale = soft_motion(t, 0.6, 0.30, 0.95, 0.15);

  return gauss(x, left_scale, left_pos, .25) + gauss(x, right_scale, right_pos, .3)
};

makeObjectiveGraph("plot4", get_dot_x, objective4, "Losing differentiation", true, "you")

// Competitor
var objective5 = function(t, x){
  var left_scale  = soft_motion(t, 0.6, 0.05, 0.95, 0.07);
  var right_scale = soft_motion(t, 0.6, 0.4,  0.95, 0.50);

  return gauss(x, left_scale, left_pos, .15) + gauss(x, right_scale, right_pos, .3)
};

makeObjectiveGraph("plot5", get_competitor_dot_x, objective5, "Dominant competitor wins", true, "competitor")


</script>



    <div>
        <i class="fa fa-comment"></i> <a href="http://localhost:4000/2016/02/28/four-pitfalls-of-hill-climbing/#disqus_thread" data-disqus-identifier="http://localhost:4000/2016/02/28/four-pitfalls-of-hill-climbing/"></a>
        <span>&nbsp; &nbsp;</span>
        <span>
            <a class="twitter-share-button"
              href="https://twitter.com/share"
              data-url="http://localhost:4000/2016/02/28/four-pitfalls-of-hill-climbing/"
              data-via="Chris_Said"
              data-count="none"
              data-text="Four pitfalls of hill climbing">
            Tweet
            </a>
        </span>

    </div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/02/13/how-to-make-polished-jupyter-presentations-with-optional-code-visibility/">
        How to make polished Jupyter presentations with optional code visibility
      </a>
    </h1>

    <span class="post-date">13 Feb 2016</span>

    <p>Jupyter notebooks are great because they allow you to easily present interactive figures. In addition, these notebooks include the figures and code in a single file, making it easy for others to reproduce your results. Sometimes though, you may want to present a cleaner report to an audience who may not care about the code. This blog post shows how to make code visibility optional, and how to remove various Jupyter elements to get a clean presentation.</p>

<p>On the top is a typical Jupyter presentation with code and some extra elements. Below that is a more polished version that removes some of the extra elements and makes code visibility optional with a button.</p>

<div class="wrapper">
    <a class="inner" href="http://nbviewer.jupyter.org/github/csaid/polished_notebooks/blob/master/notebook_original.ipynb" target="_blank">
        <figure class="image"><img src="/assets/fig_unpolished_small.png" alt="" border="2px" /></figure>

    </a>
</div>
<div class="wrapper">
    <a class="inner" href="http://nbviewer.jupyter.org/github/csaid/polished_notebooks/blob/master/notebook_polished.ipynb" target="_blank">
        <figure class="image"><img src="/assets/fig_polished_small.png" alt="" border="2px" /></figure>

    </a>
</div>

<p>To make the code optionally visible, available at the click of a button, include a raw cell at the beginning of your notebook containing the JavaScript and HTML below. This code sample is inspired by a <a href="http://stackoverflow.com/questions/27934885/how-to-hide-code-from-cells-in-ipython-notebook-visualized-with-nbviewer">Stack Overflow post</a>, but makes a few improvements such as using a raw cell so that the button position stays fixed, changing the button text depending on state, and displaying gradual transitions so the user understands what is happening.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script&gt;</span>
  <span class="kd">function</span> <span class="nx">code_toggle</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">code_shown</span><span class="p">){</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'div.input'</span><span class="p">).</span><span class="nx">hide</span><span class="p">(</span><span class="s1">'500'</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'#toggleButton'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">'Show Code'</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'div.input'</span><span class="p">).</span><span class="nx">show</span><span class="p">(</span><span class="s1">'500'</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'#toggleButton'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">'Hide Code'</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">code_shown</span> <span class="o">=</span> <span class="o">!</span><span class="nx">code_shown</span>
  <span class="p">}</span>

  <span class="nx">$</span><span class="p">(</span> <span class="nb">document</span> <span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">code_shown</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'div.input'</span><span class="p">).</span><span class="nx">hide</span><span class="p">()</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"javascript:code_toggle()"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">id=</span><span class="s">"toggleButton"</span> <span class="na">value=</span><span class="s">"Show Code"</span><span class="nt">&gt;&lt;/form&gt;</span></code></pre></figure>

<p>It’s pretty straightforward to remove the extra elements like the header, footer, and prompt numbers. That being said, you may want to still include some attribution to the Jupyter project and to your free hosting service. To do all of this, just include a raw cell at the end of your notebook with some more JavaScript.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script&gt;</span>
  <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'div.prompt'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'div.back-to-top'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'nav#menubar'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'.breadcrumb'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'.hidden-print'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;footer</span> <span class="na">id=</span><span class="s">"attribution"</span> <span class="na">style=</span><span class="s">"float:right; color:#999; background:#fff;"</span><span class="nt">&gt;</span>
Created with Jupyter, delivered by Fastly, rendered by Rackspace.
<span class="nt">&lt;/footer&gt;</span></code></pre></figure>

<p>One shortcoming with what we have so far is that users may still see some code or other unwanted elements while the page is loading. This can be especially problematic if you have a long presentation with many plots. To avoid this problem, add a raw cell at the very top of your notebook containing a preloader. This example preloader includes an animation that signals to users that the page is still loading. It heavily inspired by <a href="http://codepen.io/mimoYmima/pen/fisgL">this preloader</a> created by <a href="https://twitter.com/@mimoYmima">@mimoYmima</a>.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script&gt;</span>
  <span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>

  <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">load</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'#preloader'</span><span class="p">).</span><span class="nx">fadeOut</span><span class="p">(</span><span class="s1">'slow'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">remove</span><span class="p">();});</span>
  <span class="p">});</span>

  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;style </span><span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
  <span class="nt">div</span><span class="nf">#preloader</span> <span class="p">{</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">fixed</span><span class="p">;</span>
      <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
      <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
      <span class="nl">z-index</span><span class="p">:</span> <span class="m">999</span><span class="p">;</span>
      <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
      <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
      <span class="nl">overflow</span><span class="p">:</span> <span class="nb">visible</span><span class="p">;</span>
      <span class="nl">background</span><span class="p">:</span> <span class="m">#fff</span> <span class="sx">url('http://preloaders.net/preloaders/720/Moving%20line.gif')</span> <span class="nb">no-repeat</span> <span class="nb">center</span> <span class="nb">center</span><span class="p">;</span>
  <span class="p">}</span>

<span class="nt">&lt;/style&gt;</span>

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"preloader"</span><span class="nt">&gt;&lt;/div&gt;</span></code></pre></figure>

<meta charset="utf-8" />

<p>To work with these notebooks, you can clone my <a href="https://github.com/csaid/polished_notebooks">GitHub repository</a>. While the notebooks render correctly on nbviewer (<a href="http://nbviewer.jupyter.org/github/csaid/polished_notebooks/blob/master/notebook_original.ipynb">unpolished</a>, <a href="http://nbviewer.jupyter.org/github/csaid/polished_notebooks/blob/master/notebook_polished.ipynb">polished</a>), they do not render correctly on the GitHub viewer.</p>


    <div>
        <i class="fa fa-comment"></i> <a href="http://localhost:4000/2016/02/13/how-to-make-polished-jupyter-presentations-with-optional-code-visibility/#disqus_thread" data-disqus-identifier="http://localhost:4000/2016/02/13/how-to-make-polished-jupyter-presentations-with-optional-code-visibility/"></a>
        <span>&nbsp; &nbsp;</span>
        <span>
            <a class="twitter-share-button"
              href="https://twitter.com/share"
              data-url="http://localhost:4000/2016/02/13/how-to-make-polished-jupyter-presentations-with-optional-code-visibility/"
              data-via="Chris_Said"
              data-count="none"
              data-text="How to make polished Jupyter presentations with optional code visibility">
            Tweet
            </a>
        </span>

    </div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/09/17/presidential-debates/">
        The debate CNN wanted and the debate the candidates wanted
      </a>
    </h1>

    <span class="post-date">17 Sep 2015</span>

    <p>In last night’s Republican presidential debate, the CNN moderators tried very hard to pit individual candidates against each other. Pretty much every question was along the lines of: “Candidate A, what do you think about Candidate B’s attacks on you?”</p>

<p>While CNN wanted to generate controversy, the disputes it tried to initiate were not necessarily the disputes that the candidates strategically wanted to have. To get a better sense for this, I tallied up two things:</p>

<ol>
  <li><strong>Moderator Prompts</strong>. These were episodes where the moderators prompted one candidate to challenge another.</li>
  <li><strong>Real Challenges</strong>. These were episodes where either (a) the candidate took the bait from a Moderator Prompt and attacked the other candidate or (b) a candidate launched an unprompted attack on another candidate. I did not include episodes where a prompted candidate acknowledged a disagreement with another candidate in a nonconfrontational way.</li>
</ol>

<p>The results are below. In the first graph, an arrow from one candidate to another indicates that the moderator asked the first candidate to challenge the second. The next graph shows real challenges. In both graphs, the boldness of the curve indicates how many times the event occurred.</p>

<meta charset="utf-8" />

<div class="center">
  <span id="debate_graph1"></span>
  <span id="debate_graph2"></span>
</div>

<p>Some observations:</p>

<ul>
  <li>The graph of Moderator Prompts is much denser than the graph of Real Challenges. As was clear to anyone watching the debate, the moderators wanted to generate more controversy than the candidates wanted.</li>
  <li>Most of the real action in the second graph was in the Trump-Bush-Paul Triangle of Controversy.</li>
  <li>The moderators tried to prompt several challenges to Ben Carson but nobody took the bait. Conversely, the moderators paid relatively little attention to Rand Paul, and yet he was part of several real disputes.</li>
  <li>The interests of Donald Trump were pretty well aligned with the interests of CNN. Donald Trump was prompted many times and engaged in many challenges.</li>
</ul>

<p>It’s also interesting to look at how many times each of the candidates challenged Hillary Clinton, who was not on the stage. Jeb Bush mentioned her on five separate occassions, whereas Donald Trump never mentioned her at all. It’s just a few data points, but it’s consistent with Jeb’s larger focus on the general election.</p>

<figure class="image"><img src="/assets/hillary.png" alt="" /></figure>

<p>I doubt any of this data is very predicitive of election outcomes, but it definitely seems to be related to current polling trends. Either way, it’s pretty interesting to look at. I might make these plots for some of the other debates to see how these relationships change over time.</p>

<p><strong>Update:</strong> Coincidentally, the New York Times just released a <a href="http://www.nytimes.com/interactive/2015/09/17/us/politics/gop-debate-trump-attacks-speaking-time.html">similar analysis with similar graphics</a>. Also, special thanks to <a href="http://www.twitter.com/trebor">@trebor</a> for helping me set up mouseover-triggered transparency.</p>

<style>

.debate_link {
  fill: none;
  stroke: #3AC3F2;
}

.debate_tooltip {
    border-radius: 5px;
    background: #ccc;
    border-color: #555;
    padding: 5px;
    font-size: 10px;
    /*width: 200px;*/
    /*height: 150px;*/
}

.debate_link.resolved {
  stroke-dasharray: 0,2 1;
}

circle {
  fill: #ED2685;
  stroke: #fff;
  stroke-width: 1.5px;
}

path.unselected {
  opacity: 0.1;
}

circle.unselected {
  fill: #ED86C5;
}


text {
  font: 10px sans-serif;
}

</style>

<script>

var mod_links = [
   {source: 0, target: 1, mentions: 3},
   {source: 0, target: 2, mentions: 1},
   {source: 0, target: 3, mentions: 1},
   {source: 0, target: 5, mentions: 1},
   {source: 0, target: 7, mentions: 1},
   {source: 1, target: 0, mentions: 3},
   {source: 1, target: 6, mentions: 2},
   {source: 1, target: 8, mentions: 2},
   {source: 1, target: 10, mentions: 2},
   {source: 2, target: 4, mentions: 1},
   {source: 2, target: 10, mentions: 1},
   {source: 3, target: 0, mentions: 2},
   {source: 3, target: 1, mentions: 1},
   {source: 4, target: 1, mentions: 3},
   {source: 4, target: 2, mentions: 1},
   {source: 4, target: 5, mentions: 1},
   {source: 5, target: 0, mentions: 1},
   {source: 5, target: 4, mentions: 1},
   {source: 5, target: 9, mentions: 1},
   {source: 6, target: 1, mentions: 1},
   {source: 7, target: 2, mentions: 1},
   {source: 8, target: 1, mentions: 1},
   {source: 8, target: 4, mentions: 2},
   {source: 8, target: 6, mentions: 1},
   {source: 9, target: 1, mentions: 1},
   {source: 9, target: 5, mentions: 3},
   {source: 9, target: 10, mentions: 1},
   {source: 10,target: 1, mentions: 4},
];

var mod_nodes = [
{idx: 0, name: 'Bush', fixed: true, x: 235.0, y: 135.0},
{idx: 1, name: 'Trump', fixed: true, x: 219.125353283, y: 189.064081746},
{idx: 2, name: 'Walker', fixed: true, x: 176.5415013, y: 225.963199535},
{idx: 3, name: 'Huckabee', fixed: true, x: 120.768516173, y: 233.982144188},
{idx: 4, name: 'Carson', fixed: true, x: 69.5139266055, y: 210.574957435},
{idx: 5, name: 'Cruz', fixed: true, x: 39.0507026386, y: 163.173255684},
{idx: 6, name: 'Rubio', fixed: true, x: 39.0507026386, y: 106.826744316},
{idx: 7, name: 'Paul', fixed: true, x: 69.5139266055, y: 59.4250425646},
{idx: 8, name: 'Christie', fixed: true, x: 120.768516173, y: 36.0178558119},
{idx: 9, name: 'Kasich', fixed: true, x: 176.5415013, y: 44.0368004645},
{idx: 10, name: 'Fiorina', fixed: true, x: 219.125353283, y: 80.9359182544},
]



var challenge_links = [
   {source: 0, target: 1, mentions: 4},
   {source: 0, target: 5, mentions: 1},
   {source: 1, target: 0, mentions: 4},
   {source: 1, target: 2, mentions: 1},
   {source: 1, target: 6, mentions: 1},
   {source: 1, target: 7, mentions: 3},
   {source: 1, target: 10, mentions: 1},
   {source: 2, target: 1, mentions: 1},
   {source: 7, target: 0, mentions: 3},
   {source: 7, target: 1, mentions: 1},
   {source: 7, target: 8, mentions: 1},
   {source: 8, target: 7, mentions: 1},
   {source: 8, target: 10, mentions: 1},
   {source: 10,target: 1, mentions: 2},
   {source: 10,target: 8, mentions: 1},
];





var challenge_nodes = [
{idx: 0, name: 'Bush', fixed: true, x: 235.0, y: 135.0},
{idx: 1, name: 'Trump', fixed: true, x: 219.125353283, y: 189.064081746},
{idx: 2, name: 'Walker', fixed: true, x: 176.5415013, y: 225.963199535},
{idx: 3, name: 'Huckabee', fixed: true, x: 120.768516173, y: 233.982144188},
{idx: 4, name: 'Carson', fixed: true, x: 69.5139266055, y: 210.574957435},
{idx: 5, name: 'Cruz', fixed: true, x: 39.0507026386, y: 163.173255684},
{idx: 6, name: 'Rubio', fixed: true, x: 39.0507026386, y: 106.826744316},
{idx: 7, name: 'Paul', fixed: true, x: 69.5139266055, y: 59.4250425646},
{idx: 8, name: 'Christie', fixed: true, x: 120.768516173, y: 36.0178558119},
{idx: 9, name: 'Kasich', fixed: true, x: 176.5415013, y: 44.0368004645},
{idx: 10, name: 'Fiorina', fixed: true, x: 219.125353283, y: 80.9359182544},
]



function makeGraph(links, nodes, id, interactionType) {

  // Use elliptical arc path segments to doubly-encode directionality.
  function tick() {
    path.attr("d", linkArc);
    circle.attr("transform", transform);
    text.attr("transform", transform);
  }

  function linkArc(d) {
    var dx = d.target.x - d.source.x,
        dy = d.target.y - d.source.y,
        dr = Math.sqrt(dx * dx + dy * dy);
    return "M" + d.source.x + "," + d.source.y + "A" + dr + "," + dr + " 0 0,1 " + d.target.x + "," + d.target.y;
  }

  function transform(d) {
    return "translate(" + d.x + "," + d.y + ")";
  }

  // Mark each node with chart id
  nodes.forEach(function(d) {d.id=id});

  // Compute the distinct nodes from the links.
  links.forEach(function(link) {
    link.source = nodes[link.source] || (nodes[link.source] = {name: link.source});
    link.target = nodes[link.target] || (nodes[link.target] = {name: link.target});
  });

  var width = 270,
      height = 280;

  var force = d3.layout.force()
      .nodes(d3.values(nodes))
      .links(links)
      .size([width, height])
      .on("tick", tick)
      .start();

  var svg = d3.select("span#" + id).append("svg")
      .attr("width", width)
      .attr("height", height);
      // .attr("class", "center");

  // Per-type markers, as they don't inherit styles.
  svg.append("defs")
      .append("marker")
      .attr("id", "marker")
      .attr("viewBox", "0 -5 10 10") // min-x, min-y, width, height
      .attr("refX", 17) // The reference point. Even though arrow is length 10, using 12 because otherwise would go to center of circle.
      .attr("refY", 0)
      .attr("markerWidth", 10)
      .attr("markerHeight", 10)
      .attr("markerUnits", "userSpaceOnUse") // makes marker size independent of stroke-width
      .attr("orient", "auto")
      .attr("fill", "#3AC3F2")
    .append("path")
      .attr("d", "M0,-5L10,0L0,5"); // Arrow definition. Start at 0,-5. Then draw line to 10, 0. Then draw line to 0, 5

  // http://stackoverflow.com/questions/10805184/d3-show-data-on-mouseover-of-circle
  // http://bl.ocks.org/biovisualize/1016860
  var tooltip = d3.select("span#" + id)
      .append("div")
      .attr("class", "debate_tooltip")
      .style("position", "absolute")
      .style("z-index", "10")
      .style("visibility", "hidden")
  ;


  var path = svg.append("g").selectAll("path")
      .data(force.links())
    .enter().append("path")
      .attr("class", "debate_link")
      .attr("stroke-width", function(d) { return d.mentions })
      .attr("marker-end", "url(#marker)") // This just say that the arrow should go at the end of the link, rather than the beginning.
      .on("mouseover", function(d){return tooltip.style("visibility", "visible").text(interactionType + ": " + d.mentions)})
      .on("mousemove", function(){return tooltip.style("top",
          (d3.event.pageY-10)+"px").style("left",(d3.event.pageX+10)+"px");})
      .on("mouseout", function(){return tooltip.style("visibility", "hidden");});

  function nodeMouseOver(node) {
    d3.selectAll("#" + node.id + " circle")
      .classed("unselected", function(d) { return d != node;});
    d3.selectAll("#" + node.id + " .debate_link")
      .classed("unselected", function(d) {return d.source != node;});
  }

  function nodeMouseOut(node) {
    d3.selectAll("#" + node.id + " circle")
      .classed("unselected", false);
    d3.selectAll("#" + node.id + " .debate_link")
      .classed("unselected", false);
  }
  // "g" is to SVG as "div" is to HTML
  var circle = svg.append("g").selectAll("circle")
      .data(force.nodes())
    .enter().append("circle")
      .attr("r", 8)
      .on("mouseover", nodeMouseOver)
      .on("mouseout", nodeMouseOut);


  var text = svg.append("g").selectAll("text")
      .data(force.nodes())
    .enter().append("text")
      .attr("x", 8)
      .attr("y", ".31em")
      .text(function(d) { return d.name; });


  svg.append("text")
          .attr("x", (width / 2))
          .attr("y", 15)
          .attr("text-anchor", "middle")
          .style("font-size", "16px")
          .text(interactionType);

}



makeGraph(mod_links, mod_nodes, "debate_graph1", "Moderator Prompts");
makeGraph(challenge_links, challenge_nodes, "debate_graph2", "Real Challenges");

</script>



    <div>
        <i class="fa fa-comment"></i> <a href="http://localhost:4000/2015/09/17/presidential-debates/#disqus_thread" data-disqus-identifier="http://localhost:4000/2015/09/17/presidential-debates/"></a>
        <span>&nbsp; &nbsp;</span>
        <span>
            <a class="twitter-share-button"
              href="https://twitter.com/share"
              data-url="http://localhost:4000/2015/09/17/presidential-debates/"
              data-via="Chris_Said"
              data-count="none"
              data-text="The debate CNN wanted and the debate the candidates wanted">
            Tweet
            </a>
        </span>

    </div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/09/16/new-blog-address/">
        New Blog Address
      </a>
    </h1>

    <span class="post-date">16 Sep 2015</span>

    <p>Welcome to the new location for The File Drawer! This blog is now hosted on <a href="https://pages.github.com/">Github Pages</a> and powered by <a href="https://jekyllrb.com/">Jekyll</a>. My old blog at <a href="http://filedrawer.wordpress.com">filedrawer.wordpress.com</a> will be shutting down soon.</p>

<p>I actually really liked WordPress, but I wanted to have a little bit more control over what I can put in my posts. In particular, I wanted to be able to insert my own JavaScript animations, for example in <a href="http://chris-said.io/2015/09/17/presidential-debates/">this post</a> on the recent presidential debates.</p>

<p>It was pretty fun to migrate everything over from WordPress – which is not to say there weren’t some hiccups along the way – but I was able to do so by following some nice instructions in <a href="http://joshualande.com/jekyll-github-pages-poole/">this post by Joshua Lande</a>.</p>

<p>For those of you using RSS, the feed for <a href="http://chris-said.io/">www.chris-said.io</a> should be searchable in your RSS readers, but please let me know if it’s not.</p>


    <div>
        <i class="fa fa-comment"></i> <a href="http://localhost:4000/2015/09/16/new-blog-address/#disqus_thread" data-disqus-identifier="http://localhost:4000/2015/09/16/new-blog-address/"></a>
        <span>&nbsp; &nbsp;</span>
        <span>
            <a class="twitter-share-button"
              href="https://twitter.com/share"
              data-url="http://localhost:4000/2015/09/16/new-blog-address/"
              data-via="Chris_Said"
              data-count="none"
              data-text="New Blog Address">
            Tweet
            </a>
        </span>

    </div>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page3">Older</a>
  
  
    
      <a class="pagination-item newer" href="/">Newer</a>
    
  
</div>

<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'csaid81'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
  var s = document.createElement('script'); s.async = true;
  s.type = 'text/javascript';
  s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>


    </div>

  </body>
</html>

<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">


MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>


<script>window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));</script>
